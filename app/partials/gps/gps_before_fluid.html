
<div class="panel panel-primary anim" ng-controller="GPSLogCtrl">
	<div class="panel-heading clearfix">
		<h3 class="panel-title pull-left">{{'GPSLOG' | translate}}</h3>
		<!-- <div class="btn-group pull-right">
				<crud-search search-from-date="searchFromDate"
					search-to-date="searchToDate" search="search()"> </search-by-date-table>
			</div> -->
	</div>
	<div class="panel-body">
		<gs-search-bar-day-date ng-if="!isPublic"
			search-options="searchOptions" search-result="searchResult(result)"></gs-search-bar-day-date>
		<!-- <div class="input-group">
			Gruppér af koordinater <input bs-switch class="form-control"
				type="radio" ng-model="map.doCluster"
				switch-on-text="{{'ON' | translate}}"
				switch-off-text="{{'OFF' | translate}}">
		</div> -->
		<div class="col-xs-9">
			<!-- icon="'icon'"  -->
			<ui-gmap-google-map id="my-map" bounds="map.bounds"
				options="map.options" events="map.events" center="map.center"
				zoom="map.zoom" draggable="true"> <ui-gmap-markers
				models='clientMarkers' fit="true" coords="'coords'"
				options="'options'" icon="'icon'" labelAnchor="'labelAnchor'"
				labelClass="'labelClass'" click="'onClick'" events="'events'">
			</ui-gmap-markers> <ui-gmap-polylines models="map.polys" events="map.polyEvents"
				path="'path'" stroke="'stroke'" visible="'visible'"
				geodesic="'geodesic'" fit="true" control="polylineCtrl"
				static="true" doRebuildAll="true"></ui-gmap-polylines> <ui-gmap-marker
				ng-if="startMarker" idKey="'startMarker'"
				coords="startMarker.coords" options='startMarker.options' /> <ui-gmap-marker
				ng-if="endMarker" idKey="'endMarker'" coords="endMarker.coords"
				options="endMarker.options" /> <ui-gmap-marker ng-if="marker"
				idKey="'selectedMarker'" coords="marker.coords"
				options='marker.options' icon="marker.icon"> <ui-gmap-window
				show="marker.show">
			<div>
				Dato: {{marker.timeStamp | date:'dd-MM-yyyy'}}<br> Tid:
				{{marker.timeStamp | date:'HH:mm:ss'}}<br> Hast.:
				{{marker.velocityKm}} km/t
			</div>
			</ui-gmap-window> </ui-gmap-marker> </ui-gmap-google-map>
		</div>
		<div class="col-xs-3" id="scrollable-area" ng-if="markers.length > 1">
			<table
				class="table-hover table-condensed table-striped table-responsive table-bordered">
				<thead>
					<tr>
						<td class="col-xs-1">#</td>
						<td class="col-xs-1">km/t</td>
						<td class="col-xs-1">kl</td>
					</tr>
				</thead>
				<tr ng-repeat="marker in markers" ng-mouseover="enterMarker(marker)"
					ng-mouseout="exitMarker(marker)" ng-click="zoomToMarker(marker)"
					ng-class="{success : marker.$active}">
					<td>{{marker.id}}</td>
					<td>{{marker.velocityKm}}</td>
					<td>{{marker.timeStamp | date:'HH:mm:ss'}}</td>
				</tr>
			</table>
		</div>
		<div class="col-xs-3" ng-if="markers.length <= 1">Ingen data
			valgt</div>

		<div class="col-xs-12" ng-if="!isPublic">
			<table ng-table="tableParams" show-filter="true"
				class="table table-hover table-condensed table-striped table-responsive">
				<tr ng-repeat="crudObject in $data"
					ng-click="loadGPSData(crudObject, crudObject.gpsData, true)"
					ng-class="{info : crudObject.$active}">
					<td data-title="'Vægter'" header-class="'col-xs-6 text-center'"
						sortable="'guardName'" filter="{ 'guardName': 'text' }">{{crudObject.guardName}}</td>

					<td data-title="'Fra'" header-class="'col-xs-1 text-center'">{{crudObject.sampleStart
						| date:'HH:mm'}}</td>

					<td data-title="'Til'" header-class="'col-xs-1 text-center'">{{crudObject.sampleEnd
						| date:'HH:mm'}}</td>

					<td data-title="'Dato'" header-class="'col-xs-1 text-center'">{{crudObject.createdAt
						| date:'dd-MM-yyyy'}}</td>

					<!--<td data-title="''" header-class="'col-xs-3'"><a
					class="btn btn-primary btn-sm pull-right"
					href="#{{ 'log.listeventlogs' | routeSegmentUrl}}/?alarm={{crudObject.objectId}}&name={{crudObject.clientName}}">{{
						'SHOW_EVENTS' | translate}} <span class="badge">{{crudObject.eventCount}}</span> 
				</a>-->
				</tr>
			</table>
		</div>
	</div>
</div>